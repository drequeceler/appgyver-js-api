# AG.compass.addEventListener

## Summary
`addEventListener()` adds a new compass event listener to the current view. 

The event listener's callback function is triggered when the compass is tracking for the current view and registers a device orientation change.

## Quick example:
```javascript
	var compass_listener_id = AG.compass.addEventListener( function(heading, accuracy) {
		heading_html_element.textContent = heading;
		accuracy_html_element.textContent = accuracy;
	});
```

## Syntax
```javascript
AG.compass.addEventListener( successCallback(heading, accuracy) )
```

**Parameters**

* *function* **successCallback**<br>
 The success callback function's callback parameters contain data from the compass, as follows:
    * *double* **heading**<br>
    Compass heading, in degrees relative to magnetic north, increasing clockwise.
    * *double* **accuracy**<br>
    Accuracy of the compass heading, in degrees.

## Native layer details, iOS

The event listener is added for the current view. This is done by including the event listener's callback function into an array of callback functions that get triggered each time the device orientation changes.

The unique ID for each listener is generated by calling ´(new Date).getTime()´.

See the documentation for the [`AG.compass.startTracking`](startTracking.md) method for more information about how the compass data gets updated.

## Returns 
* *string* **listener_id**<br>
  A string value containing the listener's unique id, to be used with [`AG.compass.removeEventListener`](removeEventListener.md).

## Supported platforms
* iOS